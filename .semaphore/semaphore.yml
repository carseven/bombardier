version: v1.0

name: codesenberg/bombardier

agent:
  machine:
    type: e2-standard-2
    os_image: ubuntu2204

# Blocks are the heart of a pipeline and are executed sequentially.
# Each block has a task that defines one or more jobs. Jobs define the
# commands to execute.
# See https://docs.semaphoreci.com/article/62-concepts
blocks:
  - name: Test
    task:
      jobs:
      - name: Test go 1.13
        commands:
          - checkout

          - sem-version go 1.13
          - go test
      - name: Test go 1.14
        commands:
          - checkout

          - sem-version go 1.14
          - go test
      - name: Test go 1.15
        commands:
          - checkout

          - sem-version go 1.15
          - go test
      - name: Test go 1.16
        commands:
          - checkout

          - sem-version go 1.16
          - go test
      - name: Test go 1.17
        commands:
          - checkout

          - sem-version go 1.17
          - go test
      - name: Test go 1.18
        commands:
          - checkout

          - sem-version go 1.18
          - go test
      - name: Test go 1.19
        commands:
          - checkout

          - sem-version go 1.19
          - go test
      - name: Test go 1.20
        commands:
          - checkout

          - sem-version go 1.20
          - go test
